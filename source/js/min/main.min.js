"use strict";var MainElement={body:$(document.body),header:{navbar:$(".header > .navbar"),action:$(".header> .navbar> .action"),search:$(".header > .search"),sidebar:$(".header> .sidebar"),close:$(".header> .close")},asideWidget:$(".aside_widget")},MainContext={lazyLoad:function(){window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"})},action:function(){var e=$(document.body);e.attr("data-theme",localStorage.getItem("data-theme")||"light"),$(".theme-switch").on("click",function(){"light"===e.attr("data-theme")?(e.attr("data-theme","dark"),localStorage.setItem("data-theme","dark")):(e.attr("data-theme","light"),localStorage.setItem("data-theme","light"))}),$(".header > .mask,.header > .search .close").unbind("click").click(function(e){e=e.target.classList;(e.contains("mask")||e.contains("close"))&&(MainElement.header.search.css({animation:" 0.5s  search-scale-hide"}),setTimeout(function(){MainElement.header.search.hide()},500)),e.contains("mask")&&MainElement.header.sidebar.removeClass("active"),document.body.classList.remove("disable-scroll")})},navbar:function(){$(MainElement.header.action).children(":first").on("click",function(){MainElement.body.addClass("disable-scroll"),MainElement.header.search.show().css({animation:" 0.5s  search-scale-show"})}),$(MainElement.header.action).children(":last").on("click",function(){MainElement.header.sidebar.toggleClass("active"),MainElement.body.addClass("disable-scroll")}),MainElement.header.sidebar.find(".sidebar_menu").find(".sidebar_menu--dropdown").each(function(){var e=$(this);e.on("click",function(){e.find(".sidebar_menu--child").stop().toggle("fast")})})},asideRunDay:function(){var e=$(".run_day"),a=new Date(Number(e.attr("data-birthday").replace(/,/g,"")));if("Invalid Date"===a.toString())return e.html('<span style="color:red">配置错误 0</span>'),msg.error("建站时间格式配置错误！");a=(new Date-a)/864e5;e.html("".concat(parseInt(a)," 天"))},scroll:function(){var a=MainElement.header.navbar,t=MainElement.asideWidget,n=0,e=Utils.throttle(function(){var e=window.scrollY||document.documentElement.scrollTop;56<e?(n<e?(a.hasClass("active-visible")&&a.removeClass("active-visible"),t.addClass("active")):a.hasClass("active-visible")||a.addClass("active-visible"),a.addClass("active-fixed")):(e||a.removeClass("active-fixed active-visible"),e||t.removeClass("active")),n=e},200);window.addEventListener("scroll",e)}};document.addEventListener("DOMContentLoaded",function(){return Object.values(MainContext).forEach(function(e){return e()})});