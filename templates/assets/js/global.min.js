(()=>{"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t){var e;ThemeConfig.code.enable&&((e=document.getElementById("prism-theme"))&&e.remove(),(e=document.createElement("link")).type="text/css",e.rel="stylesheet",e.id="prism-theme",e.href="".concat(ThemeBasePath,"/plugins/prism/themes/prism-").concat(ThemeConfig.code["theme_"+t],".css"),document.getElementsByTagName("head")[0].append(e))}var t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.html=$("html"),this.body=$("body"),this.Butterfly=$("#Butterfly"),this.Header=this.Butterfly.find(".header"),this.init(),this.pjax(),this.nav(),this.scroll(),this.runDay(),this.adsorption()}for(var e,n=t,a=[{key:"init",value:function(){window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"})}},{key:"starrySky",value:function(t){}},{key:"pjax",value:function(){}},{key:"nav",value:function(){}},{key:"scroll",value:function(){var n=this.Header.find(".nav"),a=this.Butterfly.children(".adsorption"),i=this.body.find(".post .aside .post-sticky"),o=0;window.addEventListener("scroll",function(n,a){function i(){s=!1===a.leading?0:(new Date).getTime(),o=null,n.apply(l,r),l=r=null}var o,l,r,s=0;a=a||{};return function(){var t=(new Date).getTime(),e=150-(t-(s=s||!1!==a.leading?s:t));l=this,r=arguments,e<=0||150<e?(o&&(clearTimeout(o),o=null),s=t,n.apply(l,r),o||(l=r=null)):o||!1===a.leading||(o=setTimeout(i,e))}}(function(t){var e=window.scrollY||document.documentElement.scrollTop;56<e?(o<=e?(n.hasClass("visible")&&n.addClass("hidden").removeClass("visible"),i&&i.css("top",""),a.hasClass("active")||a.addClass("active")):(n.hasClass("visible")||n.addClass("visible").removeClass("hidden"),i&&i.css("top","70px")),n.hasClass("style")||n.addClass("style")):0===e&&(n.removeClass("style visible hidden"),a.hasClass("active"))&&a.removeClass("active"),o=e}))}},{key:"runDay",value:function(){var t,e=this.Butterfly.find(".run-day");e&&e.attr("data-runDay")&&("Invalid Date"!==(t=new Date).toString()?(t=(new Date).getTime()-t.getTime(),t=parseInt((t/864e5).toString()),e.html(t+" 天")):e.html('<span style="color:#fd0000">建站时间配置错误</span>'))}},{key:"adsorption",value:function(){var t=this,e=this.Butterfly.find(".adsorption");e.find(".switch-model").on("click",function(){"light"===localStorage.getItem("Butterfly-data-theme")?(d("dark"),t.html.attr("data-theme","dark"),localStorage.setItem("Butterfly-data-theme","dark"),window.dataTheme="dark",t.starrySky("open")):(d("light"),t.html.attr("data-theme","light"),localStorage.setItem("Butterfly-data-theme","light"),window.dataTheme="light",t.starrySky("close"))}),e.find(".back-top").on("click",function(){t.html.animate({scrollTop:0},300)})}}],i=n.prototype,o=a,l=0;l<o.length;l++){var r=o[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,(e=function(t){if("object"!==s(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!==s(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(r.key),"symbol"===s(e)?e:String(e)),r)}return Object.defineProperty(n,"prototype",{writable:!1}),t}();document.addEventListener("DOMContentLoaded",function(){return window.GlobalClass=new t})})();