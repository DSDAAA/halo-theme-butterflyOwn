(()=>{"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t){var e=document.querySelector("link[data-code-theme=light]"),i=document.querySelector("link[data-code-theme=dark]");if(i||e){if("light"===t)return i.disabled=!0,e.disabled=!1;e.disabled=!0,i.disabled=!1}}function c(t,e){var i,a,e=1<arguments.length&&void 0!==e?e:0;null!=(i=window)&&i.drawEchartsDom&&(a=window.echarts.init(window.drawEchartsDom,t),1===e&&(a.dispose(),a=window.echarts.init(window.drawEchartsDom,t)),a.setOption(window.drawEchartsOption),window.addEventListener("resize",function(){return a.resize()}))}var t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.html=$("html"),this.body=$("body"),this.Butterfly=$("#Butterfly"),this.Header=this.Butterfly.find(".header"),this.init(),this.nav(),this.toggle(),this.mask(),this.sidebar(),this.scroll(),this.runDay(),this.adsorption()}for(var e,i=t,a=[{key:"init",value:function(){window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"})}},{key:"starrySky",value:function(t){}},{key:"nav",value:function(){}},{key:"toggle",value:function(){var t=this;this.Header.find(".menu-item.toggle").on("click",function(){t.html.addClass("active-mask"),t.switchSidebar(1)})}},{key:"switchSidebar",value:function(t){var e=this.Header.find(".sidebar");1===t?e.css({transform:"translate3d(-100%, 0, 0)"}):e.css({transform:"translate3d(0, 0, 0)"})}},{key:"mask",value:function(){var t=this;this.Butterfly.find(".global-mask").on("click",function(){t.html.removeClass("active-mask"),t.switchSidebar(0)})}},{key:"sidebar",value:function(){var t=this.body.find(".sidebar-menus .menu-item");t.length&&t.each(function(){$(this).hasClass("relative")&&$(this).on("click",function(){$(this).toggleClass("active").children(".menu-child").stop().toggle("fast")})})}},{key:"scroll",value:function(){var i=this.Header.find(".nav"),a=this.Butterfly.children(".adsorption"),n=this.body.find(".post .aside .post-sticky"),s=0;window.addEventListener("scroll",function(i,a){function n(){l=!1===a.leading?0:(new Date).getTime(),s=null,i.apply(r,o),r=o=null}var s,r,o,l=0;a=a||{};return function(){var t=(new Date).getTime(),e=150-(t-(l=l||!1!==a.leading?l:t));r=this,o=arguments,e<=0||150<e?(s&&(clearTimeout(s),s=null),l=t,i.apply(r,o),s||(r=o=null)):s||!1===a.leading||(s=setTimeout(n,e))}}(function(t){var e=window.scrollY||document.documentElement.scrollTop;56<e?(s<=e?(i.hasClass("visible")&&i.addClass("hidden").removeClass("visible"),n&&n.css("top",""),a.hasClass("active")||a.addClass("active")):(i.hasClass("visible")||i.addClass("visible").removeClass("hidden"),n&&n.css("top","70px")),i.hasClass("style")||i.addClass("style")):0===e&&(i.removeClass("style visible hidden"),a.hasClass("active"))&&a.removeClass("active"),s=e}))}},{key:"runDay",value:function(){var t,e=this.Butterfly.find(".run-day");e&&e.attr("data-runDay")&&("Invalid Date"!==(t=new Date).toString()?(t=(new Date).getTime()-t.getTime(),t=parseInt((t/864e5).toString()),e.html(t+" 天")):e.html('<span style="color:#fd0000">建站时间配置错误</span>'))}},{key:"adsorption",value:function(){var t=this,e=this.Butterfly.find(".adsorption");e.find(".switch-model").on("click",function(){"light"===localStorage.getItem("Butterfly-data-theme")?(d("dark"),c("dark",1),t.html.attr("data-theme","dark"),localStorage.setItem("Butterfly-data-theme","dark"),window.dataTheme="dark",t.starrySky("open")):(d("light"),c("light",1),t.html.attr("data-theme","light"),localStorage.setItem("Butterfly-data-theme","light"),window.dataTheme="light",t.starrySky("close"))}),e.find(".back-top").on("click",function(){t.html.animate({scrollTop:0},300)})}}],n=i.prototype,s=a,r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,(e=function(t){if("object"!==l(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!==l(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(o.key),"symbol"===l(e)?e:String(e)),o)}return Object.defineProperty(i,"prototype",{writable:!1}),t}();document.addEventListener("DOMContentLoaded",function(){return window.GlobalClass=new t})})();