(()=>{"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.dataTheme,e=document.querySelector("link[data-code-theme=light]"),o=document.querySelector("link[data-code-theme=dark]");(o||e)&&("light"===t?(o.disabled=!0,e.disabled=!1):(e.disabled=!0,o.disabled=!1),window.eventCore.on("changeTheme",function(t){return l(t)}))}var s=$(".render-html"),t=function(){function e(){var t;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");(t=(t=s).find("pre")).length&&t.each(function(){var t,n=$(this),e=n.next(".toolbar");e&&(e.append('<div class="custom-item absolute top-0"></div>'),t=e.find(".custom-item"),ThemeConfig.code.enable_title&&e.addClass("c-title"),ThemeConfig.code.enable_hr&&e.addClass("c-hr"),ThemeConfig.code.enable_copy&&(t.append('<i class="fas fa-paste copy-button code-copy cursor-pointer"></i>'),t.find(".code-copy").on("click",function(t){var e=n.children("code[class*='language-']").text(),o=new ClipboardJS(this,{text:function(){return e}});o.on("success",function(){Qmsg.success("已复制"),o.destroy()}),o.on("error",function(){o.destroy()}),o.onClick(t)})),ThemeConfig.code.enable_expander)&&(t.append('<i class="fa-sharp fa-solid fa-caret-down code-expander cursor-pointer"></i>'),t.find(".code-expander").on("click",function(){n.children("code").toggle(),e.toggleClass("c-expander")}))}),function(t,e){t=0<arguments.length&&void 0!==t?t:".render-html",e=1<arguments.length&&void 0!==e?e:".post-tocbot > .toc",window.tocbot.init({contentSelector:t,tocSelector:e,headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0,scrollSmooth:!0,includeTitleTags:!0,scrollSmoothDuration:280,throttleTimeout:30,headingsOffset:80,scrollSmoothOffset:-80,fixedSidebarOffset:"auto",disableTocScrollSync:!1,onClick:function(t){t.preventDefault()},scrollEndCallback:function(t){}}),t=$(e);t.html()||t.html("暂无目录~")}(),l(),0<ThemeConfig.post.out_date&&this.outDate(),(t=$(".render-html img")).length&&t.each(function(){var t=$(this);t.attr("width",""),t.attr("height",""),t.wrap($('<span class="block text-center w-100" data-fancybox="fancyBoxImg" href="'.concat(t.attr("src"),'" ></span>')))}),this.copyPermalink(),this.copyRightPermalinkDecode(),this.showTocbot()}for(var t,o=e,n=o.prototype,i=[{key:"outDate",value:function(){var t,e,o,n=$(".post-outDate");n.length&&(o=Number(n.attr("data-outDate")),t=n.attr("data-publishTime"),t=new Date(t),e=new Date,o<(o=Math.floor((e-t)/864e5)))&&(n.html("距离上次更新已经过了 ".concat(o," 天，文中部分内容可能已经过时，如有疑问，请在下方留言。")),n.removeClass("none"))}},{key:"copyRightPermalinkDecode",value:function(){var t=$(".post-copyRight .permalink");t.length&&t.html(decodeURIComponent(t.html()))}},{key:"copyPermalink",value:function(){var t=$(".post-support .share .copy-permalink");t.length&&t.on("click",function(t){var e=new ClipboardJS(this,{text:function(){return location.href}});e.on("success",function(){Qmsg.success("已复制"),e.destroy()}),e.on("error",function(){e.destroy()}),e.onClick(t)})}},{key:"showTocbot",value:function(){var t=$(".adsorption  .show-tocbot");t.length&&t.on("click",function(){var t=$(".aside  .post-tocbot");t.attr("style")?(t.css({animation:"toc-close .2s"}),setTimeout(function(){t.attr("style","")},100)):($(".main").css({animation:"none"}),t.css({display:"block",animation:"toc-open .3s"}))})}}],r=0;r<i.length;r++){var c=i[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,(t=function(t){if("object"!==a(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!==a(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(c.key),"symbol"===a(t)?t:String(t)),c)}return Object.defineProperty(o,"prototype",{writable:!1}),e}();document.addEventListener("DOMContentLoaded",function(){return window.PostClass=new t})})();