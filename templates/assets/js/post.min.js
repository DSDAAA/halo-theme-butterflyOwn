"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}var Post=function(){function t(){_classCallCheck(this,t),this.outDate(),this.initToc(),this.copyRightPermalinkDecode(),this.fancyBoxImg(),this.copyPermalink()}return _createClass(t,[{key:"outDate",value:function(){var t,e,o,n=GlobalClass.Butterfly.find(".post-outDate");n.length&&(o=Number(n.attr("data-outDate")),t=n.attr("data-publishTime"),t=new Date(t),e=new Date,o<(o=Math.floor((e-t)/864e5)))&&(n.html("距离上次更新已经过了 ".concat(o," 天，文中部分内容可能已经过时，如有疑问，请在下方留言。")),n.removeClass("none"))}},{key:"initToc",value:function(){window.tocbot.init({tocSelector:".toc-bot > .toc",contentSelector:".render-html",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0,scrollSmooth:!0,includeTitleTags:!0,scrollSmoothDuration:280,throttleTimeout:30,headingsOffset:80,scrollSmoothOffset:-80,fixedSidebarOffset:"auto",disableTocScrollSync:!1,onClick:function(t){t.preventDefault()},scrollEndCallback:function(t){}})}},{key:"copyRightPermalinkDecode",value:function(){var t=$(".copyRight .permalink");t.length&&t.html(decodeURIComponent(t.html()))}},{key:"fancyBoxImg",value:function(){var t=$(".render-html img");t.length&&t.each(function(){var t=$(this);t.attr("width",""),t.attr("height",""),t.wrap($('<span class="block text-center w-100" data-fancybox="post" href="'.concat(t.attr("src"),'" ></span>')))})}},{key:"copyPermalink",value:function(){var t=$(".share .copy-permalink");t.length&&t.on("click",function(t){var e=new ClipboardJS(this,{text:function(){return location.href}});e.on("success",function(){Qmsg.success("文章链接已复制"),e.destroy()}),e.on("error",function(){e.destroy()}),e.onClick(t)})}}]),t}();document.addEventListener("DOMContentLoaded",function(){return window.PostClass=new Post});