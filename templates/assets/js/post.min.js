(()=>{"use strict";function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var t=function(){function o(){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(function(t){var e=document.querySelector("link[data-code-theme=light]"),o=document.querySelector("link[data-code-theme=dark]");if(o||e){if("light"===t)return o.disabled=!0,e.disabled=!1;e.disabled=!0,o.disabled=!1}})(dataTheme),ThemeConfig.code.enable&&(e=$(".render-html pre")).length&&e.each(function(){var t,n=$(this),e=n.next(".toolbar");e&&(e.append('<div class="custom-item absolute top-0"></div>'),t=e.find(".custom-item"),ThemeConfig.code.enable_title&&e.addClass("c-title"),ThemeConfig.code.enable_hr&&e.addClass("c-hr"),ThemeConfig.code.enable_copy&&(t.append('<i class="fas fa-paste copy-button code-copy cursor-pointer"></i>'),t.find(".code-copy").on("click",function(t){var e=n.children("code[class*='language-']").text(),o=new ClipboardJS(this,{text:function(){return e}});o.on("success",function(){Qmsg.success("已复制"),o.destroy()}),o.on("error",function(){o.destroy()}),o.onClick(t)})),ThemeConfig.code.enable_expander)&&(t.append('<i class="fa-sharp fa-solid fa-caret-down code-expander cursor-pointer"></i>'),t.find(".code-expander").on("click",function(){n.children("code").toggle(),e.toggleClass("c-expander")}))});var e=".post-tocbot > .toc";window.tocbot.init({tocSelector:e,contentSelector:".render-html",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0,scrollSmooth:!0,includeTitleTags:!0,scrollSmoothDuration:280,throttleTimeout:30,headingsOffset:80,scrollSmoothOffset:-80,fixedSidebarOffset:"auto",disableTocScrollSync:!1,onClick:function(t){t.preventDefault()},scrollEndCallback:function(t){}}),(e=$(e)).html()||e.html("暂无目录~"),0<ThemeConfig.post.out_date&&this.outDate(),(t=$(".render-html img")).length&&t.each(function(){var t=$(this);t.attr("width",""),t.attr("height",""),t.wrap($('<span class="block text-center w-100" data-fancybox="post" href="'.concat(t.attr("src"),'" ></span>')))}),this.copyPermalink(),this.copyRightPermalinkDecode(),this.showTocbot()}for(var t,e=o,n=e.prototype,r=[{key:"outDate",value:function(){var t,e,o,n=$(".post-outDate");n.length&&(o=Number(n.attr("data-outDate")),t=n.attr("data-publishTime"),t=new Date(t),e=new Date,o<(o=Math.floor((e-t)/864e5)))&&(n.html("距离上次更新已经过了 ".concat(o," 天，文中部分内容可能已经过时，如有疑问，请在下方留言。")),n.removeClass("none"))}},{key:"copyRightPermalinkDecode",value:function(){var t=$(".post-copyRight .permalink");t.length&&t.html(decodeURIComponent(t.html()))}},{key:"copyPermalink",value:function(){var t=$(".post-support .share .copy-permalink");t.length&&t.on("click",function(t){var e=new ClipboardJS(this,{text:function(){return location.href}});e.on("success",function(){Qmsg.success("已复制"),e.destroy()}),e.on("error",function(){e.destroy()}),e.onClick(t)})}},{key:"showTocbot",value:function(){var t=$(".adsorption  .show-tocbot");t.length&&t.on("click",function(){var t=$(".aside  .post-tocbot");t.attr("style")?(t.css({animation:"toc-close .2s"}),setTimeout(function(){t.attr("style","")},100)):($(".main").css({animation:"none"}),t.css({display:"block",animation:"toc-open .3s"}))})}}],i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,(t=function(t){if("object"!==c(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!==c(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(a.key),"symbol"===c(t)?t:String(t)),a)}return Object.defineProperty(e,"prototype",{writable:!1}),o}();document.addEventListener("DOMContentLoaded",function(){return window.PostClass=new t})})();