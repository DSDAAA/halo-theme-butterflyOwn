<!--头部-->
<header xmlns:th="https://www.thymeleaf.org" th:fragment="header(page)" class="header relative w-100">
  <nav class="nav flex flex-wrap flex-align-items-center  top-0 absolute z-80 w-100">
    <a th:text="${site.title}" class="site-title flex-1" href="/"></a>

    <ul class="menu inline">
      <!--搜索-->
      <li class="menu-item search" th:if="${pluginFinder.available('PluginSearchWidget')}">
        <a class="menu-link relative inline-block" href="javascript:SearchWidget.open();">
          <i class="fas fa-search fa-fw"></i>
          <span class="menu-name">搜索</span>
        </a>
      </li>
      <li class="menu-item toggle">
        <span class="menu-link relative inline-block">
          <i class="fas fa-bars fa-fw"></i>
        </span>
      </li>
      <!--toggle-->

      <th:block th:each="menuItem : ${menuFinder.getPrimary().menuItems}">
        <li th:if="${#lists.isEmpty(menuItem.children)}" class="menu-item menu-pc">
          <a class="menu-link relative inline-block" th:href="${menuItem.status.href}"
             th:target="${menuItem.spec.target}" data-pjax>
            <i th:if="${!#strings.isEmpty(#annotations.getOrDefault(menuItem, 'icon', ''))}"
               th:class="${#annotations.getOrDefault(menuItem, 'icon', '')}"></i>
            <span class="menu-name" th:text="${menuItem.status.displayName}"> </span>
          </a>
        </li>

        <li th:unless="${#lists.isEmpty(menuItem.children)}" class="menu-item menu-pc relative">
          <div class="menu-link relative">
            <i th:if="${!#strings.isEmpty(#annotations.getOrDefault(menuItem, 'icon', ''))}"
               th:class="${#annotations.getOrDefault(menuItem, 'icon', '')}"></i>
            <span class="menu-name" th:text="${menuItem.status.displayName}"></span>
            <i class="fas fa-chevron-down"></i>
          </div>

          <!--menu-dropdown  -->
          <ul class="menu-dropdown none absolute right-0 padding-0 w-max-content">
            <li th:each="dropdown : ${menuItem.children}" class="menu-dropdown--item">
              <a th:href="@{${dropdown.status.href}}" class="menu-dropdown--link w-100 inline-block">
                <i th:if="${!#strings.isEmpty(#annotations.getOrDefault(dropdown, 'icon', ''))}"
                   th:class="${#annotations.getOrDefault(dropdown, 'icon', '')}"></i>
                <span th:text="${dropdown.status.displayName}" class="menu-dropdown-name"></span>
              </a>
            </li>
          </ul>

        </li>

      </th:block>
    </ul>
  </nav>

  <th:block th:insert="~{modules/header:: ${page}}"></th:block>
</header>

<!--移动端 侧边栏-->
<div xmlns:th="https://www.thymeleaf.org" th:fragment="sidebar" class="sidebar">
  <div class="sidebar-content fixed top-0 right-0 h-100">
  </div>
</div>

<!--默认公共、自定义首屏-->
<section xmlns:th="https://www.thymeleaf.org" th:fragment="above" class="above relative w-100">
  123
</section>


<!--首页首屏-->
<section th:if="${theme.config.index.enable_above}" xmlns:th="https://www.thymeleaf.org" th:fragment="index"
         class="above relative w-100">
  <div class="above-info">
    <h1 class="above-title text-center margin-0-auto" th:text="${site.title}"></h1>

    <div class="above-subtitle text-center margin-0-auto">
      <span class="above-subtitle--text" th:data-typewriter="${theme.config.index.typewriter}"></span>
    </div>
  </div>
  <div class="above-down absolute text-center bottom-0 left-0 right-0">
    <i class="fas fa-angle-down"></i>
  </div>
</section>


<!--文章首屏-->
<section xmlns:th="https://www.thymeleaf.org" th:fragment="post" class="above relative w-100">
  <div class="post-info absolute w-100 text-center">
    <h1 class="post-title font-weight-400 text-clamp text-cmp3" th:text="${post.spec.title}"></h1>
    <div class="post-meta">
      <div class="line">
        <span class="wp publishTime">
            <i class="fa-solid fa-calendar-days"></i>
            <time th:text="'发布于 '+${#dates.format(post.spec.publishTime, 'yyyy-MM-dd HH:mm')}"></time>
        </span>

        <span class="wp category">
            <span class="fk">|</span>
            <i class="fas fa-inbox"></i>
            <span class="cys">
              <th:block th:each="cy : ${post.categories}">
                <a class="lk" th:href="${cy.status.permalink}" th:text="${cy.spec.displayName}"></a>
               <span class="point">•</span>
              </th:block>
            </span>
          </span>

      </div>
      <div class="line" th:with="leg = ${#strings.length(#strings.trim(post.content.content))}">
        <span class="wordCount">
          <i class="fa-solid fa-list-ol"></i>
          <span th:text="'字数总计 '+${leg}"></span>
        </span>

        <span class="fk">|</span>

        <span class="clock">
           <i class="fa-regular fa-clock"></i>
          <span th:text="'阅读时长 '+${leg/400}+'分钟'"></span>
        </span>

        <span class="fk">|</span>

        <span class="visit">
          <i class="far fa-eye fa-fw"></i>
          <span th:text="'阅读量 '+${post.stats.visit}"></span>
        </span>
        
      </div>
    </div>
  </div>
</section>

